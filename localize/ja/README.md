# ドキュメント

## クライアント

すべてのクライアントは`clients.json`ファイルに一覧されています。 JSONオブジェクトの各キーがクライアントライブラリを表します。以下はその例です：

```
"Rediska": {

  # プログラミング言語を指定します。
  "language": "PHP",

  # プロジェクト自体のウェブサイトがあれば、ここに書いてください。
  # 無い場合は省略してください。
  "url": "http://rediska.geometria-lab.net",

  # コードを確認できるレポジトリのURL。
  "repository": "http://github.com/Shumkov/Rediska",

  # クライアントの短い説明。
  # 説明は客観的であるべきです。ユーザーにとって必要な正しいクライアントを選ぶ手助けをすることが目的です。
  "description": "A PHP client",

  # 作者およびメンテナーのTwitter ユーザー名の配列。
  "authors": ["shumkov"]

}
```

## コマンド

Redisのコマンドは `commands.json` ファイルに説明が書かれています。

それぞれのコマンドには、人間が読める形式の完全な説明が書かれたMarkdownファイルがあります。このMarkdownは、より良い経験を提供するためにあるため、以下の点を考慮してください。

- テキストの中では、すべてのコマンドをすべて大文字で書き、バッククォートで囲う必要があります。
    例:  `INCR`

- マジックキーワードを使ってRedisの共通の要素に名前を付けることができます。例: `@multi-bulk-reply`
    これらのキーワードは展開され、ドキュメントの関連部分に自動リンクされます。

少なくとも説明と戻り値の2つの定義済みセクションを含むべきです。戻り値セクションは、@returnキーワードを使用してマークされます。

```
与えられたパターンにマッチするすべてのキーを返します。

@return

@multi-bulk-reply: 与えられたパターンにマッチするすべてのキー
```

## スタイルガイドライン

以下のフォーマットルールを使用してください。

- 行を80文字で折り返します。
- すべての文を新しい行で始めてください。

幸いなことに、このリポジトリには自動のMarkdownフォーマッタが付属しています。変更したファイルのみを再フォーマットするには、まず`git add`を使用してファイルをステージングし（これによってエラーが発生しても変更内容が失われないようにします）、次にフォーマッターを実行します。

```
$ rake format:cached
```

フォーマッターには以下の依存関係があります。

- Redcarpet
- Nokogiri
- `par` ツール

Ruby gemのインストール

```
gem install redcarpet nokogiri
```

par (macOS)のインストール

```
brew install par
```

par (Ubuntu)のインストール

```
sudo apt-get install par
```

## あなたの仕事をチェックする

あなたはMakeを使ってあなたの変更をチェックするべきです：

```
$ make
```

これにより、JSONファイルとMarkdownファイルがコンパイルされ、すべてのテキストファイルにタイポがなくなります。

これらのチェックを実行するには、いくつかのRuby gemと[Aspell](http://aspell.net/)をインストールする必要があります。gemの一覧は`.gems`ファイルにあります。次のコマンドでインストールします。

```
$ gem install $(sed -e 's/ -v /:/' .gems)
```

スペルチェックの例外は`./wordlist`に追加する必要があります。
